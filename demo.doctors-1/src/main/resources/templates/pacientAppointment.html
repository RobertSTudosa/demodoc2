<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"  
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Cabinet Medical Dental132 - Programarea dvs</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="pacient/assets/img/favicon.png" rel="icon">
  <link href="pacient/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Roboto:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="pacient/assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="pacient/assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="pacient/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="pacient/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="pacient/assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="pacient/assets/vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
  <link href="pacient/assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="pacient/assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="pacient/assets/css/style.css" rel="stylesheet">
  
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css">
  
  <script src="https://code.iconify.design/1/1.0.6/iconify.min.js"></script>
  
   <!-- Custom CSS and JS for multiple select -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/bbbootstrap/libraries@main/choices.min.css">
  <script src="https://cdn.jsdelivr.net/gh/bbbootstrap/libraries@main/choices.min.js"></script>
  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  
  <script
  src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"
  integrity="sha256-eGE6blurk5sHj+rmkfsGYeKyZx3M4bG+ZlFyA7Kns7E="
  crossorigin="anonymous"></script>
  
  <script src="https://code.iconify.design/1/1.0.6/iconify.min.js"></script>


</head>

<body>

 <!-- ======= Top Bar Repeat for DEMO======= -->
  <div id="topbar" class="d-flex align-items-center fixed-top" >
    <div class="container d-flex align-items-center justify-content-center justify-content-md-between">
      <div class="align-items-center d-none d-md-flex">
        <i class="bi bi-clock"></i> APLICATIE DEMO demouseri: <i class="bi bi-person-badge"></i> client@apxsoftware.ro password: 1234
      </div>
      <div class="d-flex align-items-center">
        <i class="bi bi-person-badge-fill"></i> doctor@apxsoftware.ro password: 1234
      </div>
    </div>
  </div>

  <!-- ======= Top Bar ======= -->
<div id="topbar" class="d-flex align-items-center fixed-top topbarDemo" style="top:30px;">
    <div class="container d-flex align-items-center justify-content-center justify-content-md-between" >
      <div class="align-items-center d-none d-md-flex">
        <i class="bi bi-clock"></i> Luni - Sambata, 8AM to 6PM
      </div>
      <div class="d-flex align-items-center">
        <i class="bi bi-phone"></i> telefon: +40 341 5548 55
      </div>
    </div>
  </div> 
  
  <script type="text/javascript" th:inline="javascript">
  	setInterval(changeTopBarStyle, 3000);
  	
  	function changeTopBarStyle () {
  		var topBarTop = $(".topbarDemo").css('top');
  		console.log(topBarTop);
  		
  		if(topBarTop == '30px') {
	  		$(".topbarDemo").css('top','0px');
  		} else {
  			$(".topbarDemo").css('top','30px');
  		}
  	
  	}
  
  </script>

  <!-- ======= Header ======= -->
 <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center">

      <a th:href="@{/}" class="logo me-auto"><img src="assets/img/logo.png" alt=""></a>
      <!-- Uncomment below if you prefer to use an image logo -->
      <!-- <h1 class="logo me-auto"><a href="index.html">Medicio</a></h1> -->

      <nav id="navbar" class="navbar order-last order-lg-0">
        <ul>
          
                    <li class="nav-link scrollto dropdown nav-link scrollto d-block d-sm-inline d-md-inline d-lg-none d-xl-none" sec:authorize="isAuthenticated()">
						<a
						href="#"> <img src="doctor/plugins/images/users/varun.jpg"
							alt="user-img" width="36" class="rounded-circle img-thumbnail"
							style="margin-left: auto;"><span
							class="text-black font-small text-center text-wrap ms-1"
							style="font-size: 0.7rem;" th:text="${#authentication.name}">Steave</span><i class="bi bi-chevron-down"></i></a>
							
							<ul>
								 <li><a class="nav-link scrollto" href="#contact">Contact</a></li>
								 <li><a class="nav-link scrollto" href="#contact">Istoric programari</a></li>
								<li><a class="nav-link scrollto" th:href="@{/logout}">Logout</a></li>
							</ul>
					</li>
		  <li ><a class="nav-link scrollto" th:href="@{/}">Home</a></li>
          <li sec:authorize="isAnonymous()"><a class="nav-link scrollto d-block d-sm-inline d-md-none d-lg-none d-xl-none" th:href="@{/login}">Login</a></li>
          <li><a class="nav-link scrollto" th:href="@{/#about}">Despre</a></li>
          <li><a class="nav-link scrollto"  th:href="@{/#services}">Servicii</a></li>
          <li><a class="nav-link scrollto" th:href="@{/#departments}">Testimoniale</a></li>
          <li><a class="nav-link scrollto" th:href="@{/#doctors}">Doctori</a></li>
          <li class="dropdown"><a href=""><span>Info</span> <i class="bi bi-chevron-down"></i></a>
            <ul>
              <li><a th:href="@{/#contact}">Contact</a></li>
              <li class="dropdown"><a th:href="@{/#pricing}"><span>Preturi</span> <i class="bi bi-chevron-right"></i></a>
                <ul>
                  <li><a th:href="@{/#pricing}">Detartraj</a></li>
                  <li><a th:href="@{/#pricing}">Extractie</a></li>
                  <li><a th:href="@{/#pricing}">Obturatie de canal</a></li>
                  <li><a th:href="@{/#pricing}">Implant</a></li>
                  
                </ul>
              </li>
              <li><a href="#">Drop Down 2?</a></li>
              <li><a href="#">Drop Down 3?</a></li>
              <li><a href="#">Drop Down 4?</a></li>
            </ul>
          </li>
         
          <li class="dropdown" sec:authorize="isAuthenticated()">
						<a
						class="d-none d-md-none d-lg-inline d-xl-inline"
						href="#"> <img src="doctor/plugins/images/users/varun.jpg"
							alt="user-img" width="36" class="rounded-circle img-thumbnail"
							style="margin-left: auto;"><span
							class="text-black font-small text-center text-wrap ms-1"
							style="font-size: 0.7rem;" th:text="${#authentication.name}">Steave</span><i class="bi bi-chevron-down"></i></a>
							
							<ul>
								 <li><a class="nav-link scrollto" href="#contact">Contact</a></li>
								 <li><a class="nav-link scrollto" href="#contact">Istoric programari</a></li>
								<li><a class="nav-link scrollto" th:href="@{/logout}">Logout</a></li>
							</ul>
					</li>
          <li><a sec:authorize="isAuthenticated()" class="nav-link scrollto d-none d-sm-inline d-md-none" th:href="@{/logout}">Logout</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

<!--       <a th:href="@{/#appointment}" class="appointment-btn scrollto"><span class="d-none d-md-inline">Faceti o</span> programare</a>  -->
     
       <a sec:authorize="isAnonymous()" th:href="@{/login}" class="appointment-btn scrollto d-none d-md-inline d-lg-inline"><span class="d-none d-md-inline"></span> Login</a>


      

		</div>
  </header><!-- End Header -->

 
 

  <main id="main">
  
      <!-- ======= Breadcrumbs Section ======= -->
    <section class="breadcrumbs">
      <div class="container">

        <div class="d-flex justify-content-between align-items-center">
          <h2>Programare</h2>
         
          <ol>
            <li><a th:href="@{/}">Home</a></li>
            <li>programare pacient</li>
          </ol>
        </div>

      </div>
    </section><!-- End Breadcrumbs Section -->
  
  
		 <!-- ======= Show Appointment Section ======= -->
    <section id="about" class="about">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>Programarea dvs</h2>
          <p></p>
        </div>

        <div class="row">
          <div class="col-lg-6" data-aos="fade-right">
            <img src="pacient/assets/img/gallery/gallery-8.jpg" class="img-fluid" alt="">
          </div>
          <div class="col-lg-6 pt-4 pt-lg-0 content" data-aos="fade-left">
            <h3>Gasiti detaliile programarii dvs mai in jos: </h3>
            <p class="fst-italic">
              Puteti oricand sa modificati sau sa anulati programarea accesand butoanele de mai in jos. 
            </p>
            <ul>
              <li ><i class="bi bi-check-circle"></i> Data programarii : <strong><span th:text="${#temporals.format(appointment.date, 'dd-MM-yyyy')}" ></span></strong></li>
              <li ><i class="bi bi-check-circle"></i> Ora programarii : <span th:text="${appointment.appointmentTime}"></span></li>
              <li><i class="bi bi-check-circle"></i> Doctorul dvs : <span th:if="${appointment.doctor} != null" th:text="${appointment.doctor.firstName}"></span></li>
              <li>
              		<ul > 
	              		<li th:each="service : ${appointmentServices}"><i class="bi bi-check-circle"></i> Procedura dorita : <span th:text="${service.name} + ' '"></span></li>
              		</ul>
              		
            </ul>
            
            
           
            
            <a class="btn text-danger bi bi-x-circle" name="openCancelFM" id="openCancelFM"
                   style="cursor: pointer; font-size: calc(10% + 3vw + 3vh);"   th:attr="onclick=|openCancelAppointment(${appointment.appointmentId})|">
                   <label for="openCancelFM" class="align-middle" style="font-size: calc(15% + 1vw + 1vh);">
                         reprogramare </label></a>
                   
                                            			
                     <script type="text/javascript" th:inline="javascript">
                                            		
                              function openCancelAppointment(appId) {
                              console.log('open modal for canceling appointment by client');
                              $("#cancelAppointment" + appId).appendTo("body").modal("show");
                           }
                                            		
                                            		
					</script>	
                                            			
             <div th:replace="usermodals :: cancelAppointmentFromMail "></div>                                			
                                            			
            <a class="btn text-success bi bi-calendar2-event" name="openResAppFM" id="openResAppFromMail"
                        style="cursor: pointer; font-size: calc(10% + 3vw + 3vh);"   th:attr="onclick=|openRescheduleAppointment(${appointment.appointmentId})|">
                        <label for="openResAppFromMail" class="align-middle" style="font-size: calc(15% + 1vw + 1vh);">
                         reprogramare </label></a>
                                            			
              <script type="text/javascript" th:inline="javascript">
                                            		
                                            		function openRescheduleAppointment(appId) {
                                            			console.log('open modal for rescheduling appointment by client');
                                            			                                            			
                                            			$("#rescheduleAppointment" + appId).appendTo("body").modal("show");
                                            			

															console.log('embeded getTime() on opening the modal');
															
															var dateVal = $("#date" + appId).val(); //this is in the getTimes() scope
															var doctorId = $("select#doctor" + appId).children("option:selected").val(); //use again in the function select hours by doctor 
									              			//console.log("doctor's id is selected --> " + doctorId);
															
															if(doctorId > 0) {
															
																console.log("doctor is present");
																$.ajax({
																type: "GET",
																url: "/selectTimeByDateByDoctor?date=" + dateVal + "&doctor=" + doctorId,
																beforeSend: function () {},
																complete: function () {},					
																success: function (data) {
																	console.log(data);
																	var select = $("#time" + appId);
																	select.empty().append('<option value="">Selecteaza ora</option>');
																	for(var i = 0; i < data.length; i++) {
																		console.log("added the time by date and doctor" + data[i]);
																		select.append("<option value='" + data[i] + "'>" + data[i] + "</option>");
																	}
																	
																	
																	
																},
																});
															
															};
															
															if(doctorId === "") {
																console.log("doctor is NOT present");
																console.log("dateVal checked is " + dateVal);
																$.ajax({
																type: "GET",
																url: "/selectTimeByDate?date=" + dateVal,
																beforeSend: function () {},
																complete: function () {},					
																success: function (data) {
																
																	console.log(data);
																	var select = $("#time" + appId);
																	select.empty().append('<option value="">Selecteaza ora</option>');
																	for(var i = 0; i < data.length; i++) {
																		console.log("added the time by date " + data[i]);
																		select.append("<option value='" + data[i] + "'>" + data[i] + "</option>");
																	}
																	
																	
																	
																},
																
																failure: function (data) {
									                    			alert(data);
									                			}
															});
																
															
															}
															
																					
															
														
														
                                            			
                                            		}
                                            		
                                            		
                                            		</script>
                                            		
                                            		<div th:replace="usermodals :: rescheduleAppointmentFromMail "></div>                               			
                                            			                                			
              <p> Ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate
              velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in
              culpa qui officia deserunt mollit anim id est laborum
            </p>
          </div>
        </div>

      </div>
    </section><!-- End About Us Section -->
		

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-3 col-md-6">
            <div class="footer-info">
              <h3>Medicio</h3>
              <p>
                A108 Adam Street <br>
                NY 535022, USA<br><br>
                <strong>Phone:</strong> +1 5589 55488 55<br>
                <strong>Email:</strong> info@example.com<br>
              </p>
              <div class="social-links mt-3">
                <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
                <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
                <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
                <a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>
                <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
              </div>
            </div>
          </div>

          <div class="col-lg-2 col-md-6 footer-links">
            <h4>Useful Links</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Home</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">About us</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Services</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Terms of service</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Privacy policy</a></li>
            </ul>
          </div>

          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Our Services</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Web Design</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Web Development</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Product Management</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Marketing</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Graphic Design</a></li>
            </ul>
          </div>

          <div class="col-lg-4 col-md-6 footer-newsletter">
            <h4>Our Newsletter</h4>
            <p>Tamen quem nulla quae legam multos aute sint culpa legam noster magna</p>
            <form action="" method="post">
              <input type="email" name="email"><input type="submit" value="Subscribe">
            </form>

          </div>

        </div>
      </div>
    </div>

    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>Medicio</span></strong>. All Rights Reserved
      </div>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/medicio-free-bootstrap-theme/ -->
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="pacient/assets/vendor/aos/aos.js"></script>
  <script src="pacient/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="pacient/assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="pacient/assets/vendor/php-email-form/validate.js"></script>
  <script src="pacient/assets/vendor/purecounter/purecounter.js"></script>
  <script src="pacient/assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Template Main JS File -->
  <script src="pacient/assets/js/main.js"></script>

</body>

</html>